<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Documenter.jl</title><link href="../normalize.css" rel="stylesheet" type="text/css"/><link href="../style.css" rel="stylesheet" type="text/css"/><link href="../highlight.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="../require.js" data-main="../documenter.js"></script><script src="../search-index.js"></script></head><body><nav class="toc"><a href="http://julialang.org/"><img class="logo" src="http://docs.julialang.org/en/release-0.4/_static/julia-logo.svg" alt="\$pkgname.jl logo"/></a><h1>$pkgname.jl</h1><input type="text" placeholder="Search docs"/><ul><li><a class="toctext" href="../index.html">Overview</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../man/guide.html">Guide</a></li><li><a class="toctext" href="../man/examples.html">Examples</a></li><li><a class="toctext" href="../man/syntax.html">Syntax</a></li><li><a class="toctext" href="../man/doctests.html">Doctests</a></li><li><a class="toctext" href="../man/hosting.html">Hosting Documentation</a></li><li><a class="toctext" href="../man/latex.html"><span>$\LaTeX$</span> syntax</a></li><li><a class="toctext" href="../man/internals.html">Package Internals</a></li></ul></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="../lib/public.html">Public Documentation</a></li><li><a class="toctext" href="../lib/internals.html">Internal Documentation</a></li></ul></li><li><span class="toctext">Dynamic pages</span><ul><li><a class="toctext" href="../dynamic/code.html">Code examples</a></li><li><a class="toctext" href="../dynamic/admonitions.html">Admonitions &amp; Co</a></li><li><a class="toctext" href="../dynamic/styles.html">Demonstrating <em>styles</em> of MD elements</a></li><li><a class="toctext" href="../dynamic/bugs.html">Some existing bugs</a></li></ul></li><li><span class="toctext">JuliaDocs - Manual</span><ul><li><a class="toctext" href="../manual/arrays.html">Multi-dimensional Arrays</a></li><li><a class="toctext" href="../manual/calling-c-and-fortran-code.html">Calling C and Fortran Code</a></li><li><a class="toctext" href="../manual/complex-and-rational-numbers.html">Complex and Rational Numbers</a></li><li><a class="toctext" href="../manual/constructors.html">Constructors</a></li><li><a class="toctext" href="../manual/control-flow.html">Control Flow</a></li><li><a class="toctext" href="../manual/conversion-and-promotion.html">Conversion and Promotion</a></li><li><a class="toctext" href="../manual/dates.html">Date and DateTime</a></li><li><a class="toctext" href="../manual/documentation.html">Documentation</a></li><li><a class="toctext" href="../manual/embedding.html">Embedding Julia</a></li><li><a class="toctext" href="../manual/faq.html">Frequently Asked Questions</a></li><li><a class="toctext" href="../manual/functions.html">Functions</a></li><li><a class="toctext" href="../manual/getting-started.html">Getting Started</a></li><li><a class="toctext" href="../manual/handling-operating-system-variation.html">Handling Operating System Variation</a></li><li><a class="toctext" href="../manual/index.html">The Julia Manual</a></li><li><a class="toctext" href="../manual/integers-and-floating-point-numbers.html">Integers and Floating-Point Numbers</a></li><li><a class="toctext" href="../manual/interacting-with-julia.html">Interacting With Julia</a></li><li><a class="toctext" href="../manual/interfaces.html">Interfaces</a></li><li><a class="toctext" href="../manual/introduction.html">Introduction</a></li><li><a class="toctext" href="../manual/linear-algebra.html">Linear algebra</a></li><li><a class="toctext" href="../manual/mathematical-operations.html">Mathematical Operations and Elementary Functions</a></li><li><a class="toctext" href="../manual/metaprogramming.html">Metaprogramming</a></li><li><a class="toctext" href="../manual/methods.html">Methods</a></li><li><a class="toctext" href="../manual/modules.html">Modules</a></li><li><a class="toctext" href="../manual/networking-and-streams.html">Networking and Streams</a></li><li><a class="toctext" href="../manual/noteworthy-differences.html">Noteworthy Differences from other Languages</a></li><li><a class="toctext" href="../manual/packages.html">Packages</a></li><li><a class="toctext" href="../manual/parallel-computing.html">Parallel Computing</a></li><li><a class="toctext" href="../manual/performance-tips.html">Performance Tips</a></li><li><a class="toctext" href="../manual/profile.html">Profiling</a></li><li><a class="toctext" href="../manual/running-external-programs.html">Running External Programs</a></li><li><a class="toctext" href="../manual/stacktraces.html">Stack Traces</a></li><li><a class="toctext" href="../manual/strings.html">Strings</a></li><li><a class="toctext" href="../manual/style-guide.html">Style Guide</a></li><li><a class="toctext" href="../manual/types.html">Types</a></li><li><a class="toctext" href="../manual/unicode-input.html">Unicode Input</a></li><li><a class="toctext" href="../manual/variables-and-scoping.html">Scope of Variables</a></li><li><a class="toctext" href="../manual/variables.html">Variables</a></li><li><a class="toctext" href="../manual/workflow-tips.html">Workflow Tips</a></li></ul></li><li><span class="toctext">JuliaDocs - Standard Libary</span><ul><li><a class="toctext" href="arrays.html">Arrays</a></li><li><a class="toctext" href="base.html">Essentials</a></li><li><a class="toctext" href="c.html">C Interface</a></li><li><a class="toctext" href="collections.html">Collections and Data Structures</a></li><li><a class="toctext" href="constants.html">Constants</a></li><li><a class="toctext" href="dates.html">Dates and Time</a></li><li><a class="toctext" href="file.html">Filesystem</a></li><li><a class="toctext" href="index.html">The Julia Standard Library</a></li><li><a class="toctext" href="io-network.html">I/O and Network</a></li><li><a class="toctext" href="libc.html">C Standard Library</a></li><li><a class="toctext" href="libdl.html">Dynamic Linker</a></li><li><a class="toctext" href="linalg.html">Linear Algebra</a></li><li><a class="toctext" href="math.html">Mathematics</a></li><li><a class="toctext" href="numbers.html">Numbers</a></li><li><a class="toctext" href="parallel.html">Tasks and Parallel Computing</a></li><li><a class="toctext" href="pkg.html">Package Manager Functions</a></li><li><a class="toctext" href="profile.html">Profiling</a></li><li><a class="toctext" href="punctuation.html">Punctuation</a></li><li><a class="toctext" href="simd-types.html">SIMD Support</a></li><li><a class="toctext" href="sort.html">Sorting and Related Functions</a></li><li><a class="toctext" href="stacktraces.html">StackTraces</a></li><li><a class="toctext" href="strings.html">Strings</a></li><li class="current"><a class="toctext" href="test.html">Unit Testing</a><ul class="internal"><li><a class="toctext" href="#Testing-Base-Julia-1">Testing Base Julia</a></li><li><a class="toctext" href="#Basic-Unit-Tests-1">Basic Unit Tests</a></li><li><a class="toctext" href="#Working-with-Test-Sets-1">Working with Test Sets</a></li><li><a class="toctext" href="#Other-Test-Macros-1">Other Test Macros</a></li><li><a class="toctext" href="#Broken-Tests-1">Broken Tests</a></li><li><a class="toctext" href="#Creating-Custom-AbstractTestSet-Types-1">Creating Custom <code>AbstractTestSet</code> Types</a></li></ul></li></ul></li><li><span class="toctext">JuliaDocs - DevDocs</span><ul><li><a class="toctext" href="../devdocs/ast.html">Julia ASTs</a></li><li><a class="toctext" href="../devdocs/backtraces.html">Reporting and analyzing crashes (segfaults)</a></li><li><a class="toctext" href="../devdocs/boundscheck.html">Bounds checking</a></li><li><a class="toctext" href="../devdocs/callconv.html">Calling Conventions</a></li><li><a class="toctext" href="../devdocs/cartesian.html">Base.Cartesian</a></li><li><a class="toctext" href="../devdocs/C.html">Developing/debugging Julia&#39;s C code</a></li><li><a class="toctext" href="../devdocs/debuggingtips.html">gdb debugging tips</a></li><li><a class="toctext" href="../devdocs/eval.html">Eval of Julia code</a></li><li><a class="toctext" href="../devdocs/functions.html">Julia Functions</a></li><li><a class="toctext" href="../devdocs/init.html">Initialization of the Julia runtime</a></li><li><a class="toctext" href="../devdocs/julia.html">Documentation of Julia&#39;s Internals</a></li><li><a class="toctext" href="../devdocs/llvm.html">Working with LLVM</a></li><li><a class="toctext" href="../devdocs/locks.html">Proper maintenance and care of multi-threading locks</a></li><li><a class="toctext" href="../devdocs/meta.html">Talking to the compiler (the <code>:meta</code> mechanism)</a></li><li><a class="toctext" href="../devdocs/object.html">Memory layout of Julia Objects</a></li><li><a class="toctext" href="../devdocs/offset-arrays.html">Arrays with custom indices</a></li><li><a class="toctext" href="../devdocs/promote-op.html">Operator-sensitive promotion</a></li><li><a class="toctext" href="../devdocs/reflection.html">Reflection and introspection</a></li><li><a class="toctext" href="../devdocs/stdio.html">printf() and stdio in the Julia runtime</a></li><li><a class="toctext" href="../devdocs/subarrays.html">SubArrays</a></li><li><a class="toctext" href="../devdocs/sysimg.html">System Image Building</a></li><li><a class="toctext" href="../devdocs/types.html">More about types</a></li><li><a class="toctext" href="../devdocs/valgrind.html">Using Valgrind with Julia</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>JuliaDocs - Standard Libary</li><li><a href="test.html">Unit Testing</a></li></ul><a class="edit-page" href="https://github.com/"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><a id="Unit-Testing-1"></a><div class="mdnote debug">Base.Markdown.Header{1}</div><h1>Unit Testing</h1><a id="Testing-Base-Julia-1"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2>Testing Base Julia</h2><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Julia is under rapid development and has an extensive test suite to verify functionality across multiple platforms. If you build Julia from source, you can run this test suite with <code>make test</code>. In a binary install, you can run the test suite using <code>Base.runtests()</code>.</p><section class="docstring"><div class="docheader"><a id="Base.runtests" href="#Base.runtests">#</a> <strong><code>Base.runtests</code></strong> — <em>Function</em>.</div><strong>Methods</strong>This function has no methods to display.<em>Hiding 3 methods defined outside of this package.</em></section><a id="Basic-Unit-Tests-1"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2>Basic Unit Tests</h2><div class="mdnote debug">Base.Markdown.Paragraph</div><p>The <code>Base.Test</code> module provides simple <em>unit testing</em> functionality. Unit testing is a way to see if your code is correct by checking that the results are what you expect. It can be helpful to ensure your code still works after you make changes, and can be used when developing as a way of specifying the behaviors your code should have when complete.</p><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Simple unit testing can be performed with the <code>@test()</code> and <code>@test_throws()</code> macros:</p><section class="docstring"><div class="docheader"><a id="Base.Test.@test" href="#Base.Test.@test">#</a> <strong><code>Base.Test.@test</code></strong> — <em>Macro</em>.</div><strong>Methods</strong>This function has no methods to display.<em>Hiding 1 method defined outside of this package.</em></section><section class="docstring"><div class="docheader"><a id="Base.Test.@test_throws" href="#Base.Test.@test_throws">#</a> <strong><code>Base.Test.@test_throws</code></strong> — <em>Macro</em>.</div><strong>Methods</strong>This function has no methods to display.<em>Hiding 1 method defined outside of this package.</em></section><div class="mdnote debug">Base.Markdown.Paragraph</div><p>For example, suppose we want to check our new function <code>foo(x)</code> works as expected:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="highlight language-jlcon"><span></span><span class="gp">julia&gt;</span><span> </span><span class="k">using</span><span> </span><span class="n">Base</span><span class="o">.</span><span class="n">Test</span><span>
</span><span class="go">
</span><span></span><span class="gp">julia&gt;</span><span> </span><span class="n">foo</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span> </span><span class="o">=</span><span> </span><span class="n">length</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span>
</span><span class="go">foo (generic function with 1 method)
</span></code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>If the condition is true, a <code>Pass</code> is returned:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="highlight language-jlcon"><span></span><span class="gp">julia&gt;</span><span> </span><span class="p">@</span><span class="n">test</span><span> </span><span class="n">foo</span><span class="p">(</span><span class="s">&quot;</span><span class="s">bar</span><span class="s">&quot;</span><span class="p">)</span><span> </span><span class="o">==</span><span> </span><span class="mi">9</span><span>
</span><span class="go">Test Passed
</span><span class="go">  Expression: foo(&quot;bar&quot;) == 9
</span><span class="go">   Evaluated: 9 == 9
</span><span class="go">
</span><span></span><span class="gp">julia&gt;</span><span> </span><span class="p">@</span><span class="n">test</span><span> </span><span class="n">foo</span><span class="p">(</span><span class="s">&quot;</span><span class="s">fizz</span><span class="s">&quot;</span><span class="p">)</span><span> </span><span class="o">&gt;=</span><span> </span><span class="mi">10</span><span>
</span><span class="go">Test Passed
</span><span class="go">  Expression: foo(&quot;fizz&quot;) &gt;= 10
</span><span class="go">   Evaluated: 16 &gt;= 10
</span></code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>If the condition is false, then a <code>Fail</code> is returned and an exception is thrown:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="highlight language-jlcon"><span></span><span class="gp">julia&gt;</span><span> </span><span class="p">@</span><span class="n">test</span><span> </span><span class="n">foo</span><span class="p">(</span><span class="s">&quot;</span><span class="s">f</span><span class="s">&quot;</span><span class="p">)</span><span> </span><span class="o">==</span><span> </span><span class="mi">20</span><span>
</span><span class="go">Test Failed
</span><span class="go">  Expression: foo(&quot;f&quot;) == 20
</span><span class="go">   Evaluated: 1 == 20
</span><span class="go">ERROR: There was an error during testing
</span><span class="go"> in record at test.jl:268
</span><span class="go"> in do_test at test.jl:191
</span></code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>If the condition could not be evaluated because an exception was thrown, which occurs in this case because <code>length()</code> is not defined for symbols, an <code>Error</code> object is returned and an exception is thrown:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="highlight language-jlcon"><span></span><span class="gp">julia&gt;</span><span> </span><span class="p">@</span><span class="n">test</span><span> </span><span class="n">foo</span><span class="p">(</span><span class="p">:</span><span class="n">cat</span><span class="p">)</span><span> </span><span class="o">==</span><span> </span><span class="mi">1</span><span>
</span><span class="go">Error During Test
</span><span class="go">  Test threw an exception of type MethodError
</span><span class="go">  Expression: foo(:cat) == 1
</span><span class="go">  MethodError: `length` has no method matching length(::Symbol)
</span><span class="go">   in foo at none:1
</span><span class="go">   in anonymous at test.jl:159
</span><span class="go">   in do_test at test.jl:180
</span><span class="go">ERROR: There was an error during testing
</span><span class="go"> in record at test.jl:268
</span><span class="go"> in do_test at test.jl:191
</span></code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>If we expect that evaluating an expression <em>should</em> throw an exception, then we can use <code>@test_throws()</code> to check that this occurs:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="highlight language-jlcon"><span></span><span class="gp">julia&gt;</span><span> </span><span class="p">@</span><span class="n">test_throws</span><span> </span><span class="n">MethodError</span><span> </span><span class="n">foo</span><span class="p">(</span><span class="p">:</span><span class="n">cat</span><span class="p">)</span><span>
</span><span class="go">Test Passed
</span><span class="go">  Expression: foo(:cat)
</span><span class="go">   Evaluated: MethodError
</span></code></pre><a id="Working-with-Test-Sets-1"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2>Working with Test Sets</h2><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Typically a large of number of tests are used to make sure functions work correctly over a range of inputs. In the event a test fails, the default behavior is to throw an exception immediately. However, it is normally preferable to run the rest of the tests first to get a better picture of how many errors there are in the code being tested.</p><div class="mdnote debug">Base.Markdown.Paragraph</div><p>The <code>@testset()</code> macro can be used to group tests into <em>sets</em>. All the tests in a test set will be run, and at the end of the test set a summary will be printed. If any of the tests failed, or could not be evaluated due to an error, the test set will then throw a <code>TestSetException</code>.</p><section class="docstring"><div class="docheader"><a id="Base.Test.@testset" href="#Base.Test.@testset">#</a> <strong><code>Base.Test.@testset</code></strong> — <em>Macro</em>.</div><strong>Methods</strong>This function has no methods to display.<em>Hiding 1 method defined outside of this package.</em></section><div class="mdnote debug">Base.Markdown.Paragraph</div><p>We can put our tests for the <code>foo(x)</code> function in a test set:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="highlight language-jlcon"><span></span><span class="gp">julia&gt;</span><span> </span><span class="p">@</span><span class="n">testset</span><span> </span><span class="s">&quot;</span><span class="s">Foo Tests</span><span class="s">&quot;</span><span> </span><span class="k">begin</span><span>
</span><span class="gt">
           @test foo(&quot;a&quot;)   == 1
</span><span></span><span class="gt">
           @test foo(&quot;ab&quot;)  == 4
</span><span></span><span class="gt">
           @test foo(&quot;abc&quot;) == 9
</span><span></span><span class="gt">
       end
</span><span></span><span class="go">Test Summary: | Pass  Total
</span><span class="go">Foo Tests     |    3      3
</span></code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Test sets can also be nested:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="highlight language-jlcon"><span></span><span class="gp">julia&gt;</span><span> </span><span class="p">@</span><span class="n">testset</span><span> </span><span class="s">&quot;</span><span class="s">Foo Tests</span><span class="s">&quot;</span><span> </span><span class="k">begin</span><span>
</span><span class="gt">
           @testset &quot;Animals&quot; begin
</span><span></span><span class="gt">
               @test foo(&quot;cat&quot;) == 9
</span><span></span><span class="gt">
               @test foo(&quot;dog&quot;) == foo(&quot;cat&quot;)
</span><span></span><span class="gt">
           end
</span><span></span><span class="gt">
           @testset &quot;Arrays $i&quot; for i in 1:3
</span><span></span><span class="gt">
               @test foo(zeros(i)) == i^2
</span><span></span><span class="gt">
               @test foo(ones(i)) == i^2
</span><span></span><span class="gt">
           end
</span><span></span><span class="gt">
       end
</span><span></span><span class="go">Test Summary: | Pass  Total
</span><span class="go">Foo Tests     |    8      8
</span></code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>In the event that a nested test set has no failures, as happened here, it will be hidden in the summary. If we do have a test failure, only the details for the failed test sets will be shown:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="highlight language-jlcon"><span></span><span class="gp">julia&gt;</span><span> </span><span class="p">@</span><span class="n">testset</span><span> </span><span class="s">&quot;</span><span class="s">Foo Tests</span><span class="s">&quot;</span><span> </span><span class="k">begin</span><span>
</span><span class="gt">
           @testset &quot;Animals&quot; begin
</span><span></span><span class="gt">
               @testset &quot;Felines&quot; begin
</span><span></span><span class="gt">
                   @test foo(&quot;cat&quot;) == 9
</span><span></span><span class="gt">
               end
</span><span></span><span class="gt">
               @testset &quot;Canines&quot; begin
</span><span></span><span class="gt">
                   @test foo(&quot;dog&quot;) == 9
</span><span></span><span class="gt">
               end
</span><span></span><span class="gt">
           end
</span><span></span><span class="gt">
           @testset &quot;Arrays&quot; begin
</span><span></span><span class="gt">
               @test foo(zeros(2)) == 4
</span><span></span><span class="gt">
               @test foo(ones(4)) == 15
</span><span></span><span class="gt">
           end
</span><span></span><span class="gt">
       end
</span><span></span><span class="go">
</span><span class="go">Arrays: Test Failed
</span><span class="go">  Expression: foo(ones(4)) == 15
</span><span class="go">   Evaluated: 16 == 15
</span><span class="go"> in record at test.jl:297
</span><span class="go"> in do_test at test.jl:191
</span><span class="go">Test Summary: | Pass  Fail  Total
</span><span class="go">Foo Tests     |    3     1      4
</span><span class="go">  Animals     |    2            2
</span><span class="go">  Arrays      |    1     1      2
</span><span class="go">ERROR: Some tests did not pass: 3 passed, 1 failed, 0 errored, 0 broken.
</span><span class="go"> in finish at test.jl:362
</span></code></pre><a id="Other-Test-Macros-1"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2>Other Test Macros</h2><div class="mdnote debug">Base.Markdown.Paragraph</div><p>As calculations on floating-point values can be imprecise, you can perform approximate equality checks using either <code>@test a ≈ b</code> (where <code>≈</code>, typed via tab completion of <code>\approx</code>, is the <code>isapprox()</code> function) or use <code>isapprox()</code> directly.</p><div class="mdnote debug">Base.Markdown.Paragraph</div><p>An alternative is the <code>@test_approx_eq</code> macro (which differs from <code>isapprox</code> in that it treats NaN values as equal and has a smaller default tolerance) or <code>@test_approx_eq_eps</code> (which takes an extra argument indicating the relative tolerance):</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="highlight language-jlcon"><span></span><span class="gp">julia&gt;</span><span> </span><span class="p">@</span><span class="n">test</span><span> </span><span class="mi">1</span><span> </span><span class="n">≈</span><span> </span><span class="mf">0.999999999</span><span>
</span><span class="go">
</span><span></span><span class="gp">julia&gt;</span><span> </span><span class="p">@</span><span class="n">test</span><span> </span><span class="mi">1</span><span> </span><span class="n">≈</span><span> </span><span class="mf">0.999999</span><span>
</span><span class="go">ERROR: test failed: 1 isapprox 0.999999
</span><span class="go"> in expression: 1 ≈ 0.999999
</span><span class="go"> in error at error.jl:21
</span><span class="go"> in default_handler at test.jl:30
</span><span class="go"> in do_test at test.jl:53
</span><span class="go">
</span><span></span><span class="gp">julia&gt;</span><span> </span><span class="p">@</span><span class="n">test_approx_eq</span><span> </span><span class="mf">1.</span><span> </span><span class="mf">0.999999999</span><span>
</span><span class="go">ERROR: assertion failed: |1.0 - 0.999999999| &lt; 2.220446049250313e-12
</span><span class="go">  1.0 = 1.0
</span><span class="go">  0.999999999 = 0.999999999
</span><span class="go"> in test_approx_eq at test.jl:75
</span><span class="go"> in test_approx_eq at test.jl:80
</span><span class="go">
</span><span></span><span class="gp">julia&gt;</span><span> </span><span class="p">@</span><span class="n">test_approx_eq</span><span> </span><span class="mf">1.</span><span> </span><span class="mf">0.9999999999999</span><span>
</span><span class="go">
</span><span></span><span class="gp">julia&gt;</span><span> </span><span class="p">@</span><span class="n">test_approx_eq_eps</span><span> </span><span class="mf">1.</span><span> </span><span class="mf">0.999</span><span> </span><span class="mf">1e-2</span><span>
</span><span class="go">
</span><span></span><span class="gp">julia&gt;</span><span> </span><span class="p">@</span><span class="n">test_approx_eq_eps</span><span> </span><span class="mf">1.</span><span> </span><span class="mf">0.999</span><span> </span><span class="mf">1e-3</span><span>
</span><span class="go">ERROR: assertion failed: |1.0 - 0.999| &lt;= 0.001
</span><span class="go">  1.0 = 1.0
</span><span class="go">  0.999 = 0.999
</span><span class="go">  difference = 0.0010000000000000009 &gt; 0.001
</span><span class="go"> in error at error.jl:22
</span><span class="go"> in test_approx_eq at test.jl:68
</span></code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Note that these macros will fail immediately, and are not compatible with <code>@testset()</code>, so using <code>@test isapprox</code> is encouraged when writing new tests.</p><section class="docstring"><div class="docheader"><a id="Base.Test.@test_approx_eq" href="#Base.Test.@test_approx_eq">#</a> <strong><code>Base.Test.@test_approx_eq</code></strong> — <em>Macro</em>.</div><strong>Methods</strong>This function has no methods to display.<em>Hiding 1 method defined outside of this package.</em></section><section class="docstring"><div class="docheader"><a id="Base.Test.@test_approx_eq_eps" href="#Base.Test.@test_approx_eq_eps">#</a> <strong><code>Base.Test.@test_approx_eq_eps</code></strong> — <em>Macro</em>.</div><strong>Methods</strong>This function has no methods to display.<em>Hiding 1 method defined outside of this package.</em></section><section class="docstring"><div class="docheader"><a id="Base.Test.@inferred" href="#Base.Test.@inferred">#</a> <strong><code>Base.Test.@inferred</code></strong> — <em>Macro</em>.</div><strong>Methods</strong>This function has no methods to display.<em>Hiding 1 method defined outside of this package.</em></section><a id="Broken-Tests-1"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2>Broken Tests</h2><div class="mdnote debug">Base.Markdown.Paragraph</div><p>If a test fails consistently it can be changed to use the <code>@test_broken()</code> macro. This will denote the test as <code>Broken</code> if the test continues to fail and alerts the user via an <code>Error</code> if the test succeeds.</p><section class="docstring"><div class="docheader"><a id="Base.Test.@test_broken" href="#Base.Test.@test_broken">#</a> <strong><code>Base.Test.@test_broken</code></strong> — <em>Macro</em>.</div><strong>Methods</strong>This function has no methods to display.<em>Hiding 1 method defined outside of this package.</em></section><div class="mdnote debug">Base.Markdown.Paragraph</div><p><code>@test_skip()</code> is also available to skip a test without evaluation, but counting the skipped test in the test set reporting. The test will not run but gives a <code>Broken</code><code>Result</code>.</p><section class="docstring"><div class="docheader"><a id="Base.Test.@test_skip" href="#Base.Test.@test_skip">#</a> <strong><code>Base.Test.@test_skip</code></strong> — <em>Macro</em>.</div><strong>Methods</strong>This function has no methods to display.<em>Hiding 1 method defined outside of this package.</em></section><a id="Creating-Custom-AbstractTestSet-Types-1"></a><div class="mdnote debug">Base.Markdown.Header{2}</div><h2>Creating Custom <code>AbstractTestSet</code> Types</h2><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Packages can create their own <code>AbstractTestSet</code> subtypes by implementing the <code>record</code> and <code>finish</code> methods. The subtype should have a one-argument constructor taking a description string, with any options passed in as keyword arguments.</p><section class="docstring"><div class="docheader"><a id="Base.Test.record" href="#Base.Test.record">#</a> <strong><code>Base.Test.record</code></strong> — <em>Function</em>.</div><strong>Methods</strong>This function has no methods to display.<em>Hiding 5 methods defined outside of this package.</em></section><section class="docstring"><div class="docheader"><a id="Base.Test.finish" href="#Base.Test.finish">#</a> <strong><code>Base.Test.finish</code></strong> — <em>Function</em>.</div><strong>Methods</strong>This function has no methods to display.<em>Hiding 2 methods defined outside of this package.</em></section><div class="mdnote debug">Base.Markdown.Paragraph</div><p><code>Base.Test</code> takes responsibility for maintaining a stack of nested testsets as they are executed, but any result accumulation is the responsibility of the <code>AbstractTestSet</code> subtype. You can access this stack with the <code>get_testset</code> and <code>get_testset_depth</code> methods. Note that these functions are not exported.</p><section class="docstring"><div class="docheader"><a id="Base.Test.get_testset" href="#Base.Test.get_testset">#</a> <strong><code>Base.Test.get_testset</code></strong> — <em>Function</em>.</div><strong>Methods</strong>This function has no methods to display.<em>Hiding 1 method defined outside of this package.</em></section><section class="docstring"><div class="docheader"><a id="Base.Test.get_testset_depth" href="#Base.Test.get_testset_depth">#</a> <strong><code>Base.Test.get_testset_depth</code></strong> — <em>Function</em>.</div><strong>Methods</strong>This function has no methods to display.<em>Hiding 1 method defined outside of this package.</em></section><div class="mdnote debug">Base.Markdown.Paragraph</div><p><code>Base.Test</code> also makes sure that nested <code>@testset</code> invocations use the same <code>AbstractTestSet</code> subtype as their parent unless it is set explicitly. It does not propagate any properties of the testset. Option inheritance behavior can be implemented by packages using the stack infrastructure that <code>Base.Test</code> provides.</p><div class="mdnote debug">Base.Markdown.Paragraph</div><p>Defining a basic <code>AbstractTestSet</code> subtype might look like:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="highlight language-julia"><span class="k">import</span><span> </span><span class="n">Base</span><span class="o">.</span><span class="n">Test</span><span class="p">:</span><span> </span><span class="n">record</span><span class="p">,</span><span> </span><span class="n">finish</span><span>
</span><span class="k">using</span><span> </span><span class="n">Base</span><span class="o">.</span><span class="n">Test</span><span class="p">:</span><span> </span><span class="n">AbstractTestSet</span><span class="p">,</span><span> </span><span class="n">Result</span><span class="p">,</span><span> </span><span class="n">Pass</span><span class="p">,</span><span> </span><span class="n">Fail</span><span class="p">,</span><span> </span><span class="n">Error</span><span>
</span><span class="k">using</span><span> </span><span class="n">Base</span><span class="o">.</span><span class="n">Test</span><span class="p">:</span><span> </span><span class="n">get_testset_depth</span><span class="p">,</span><span> </span><span class="n">get_testset</span><span>
</span><span class="k">immutable</span><span> </span><span class="n">CustomTestSet</span><span> </span><span class="o">&lt;:</span><span> </span><span class="n">Base</span><span class="o">.</span><span class="n">Test</span><span class="o">.</span><span class="n">AbstractTestSet</span><span>
</span><span>    </span><span class="n">description</span><span class="p">:</span><span class="p">:</span><span class="n">AbstractString</span><span>
</span><span>    </span><span class="n">foo</span><span class="p">:</span><span class="p">:</span><span class="kt">Int</span><span>
</span><span>    </span><span class="n">results</span><span class="p">:</span><span class="p">:</span><span class="n">Vector</span><span>
</span><span>    </span><span class="c"># constructor takes a description string and options keyword arguments</span><span>
</span><span>    </span><span class="n">CustomTestSet</span><span class="p">(</span><span class="n">desc</span><span class="p">;</span><span> </span><span class="n">foo</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span> </span><span class="o">=</span><span> </span><span class="nb">new</span><span class="p">(</span><span class="n">desc</span><span class="p">,</span><span> </span><span class="n">foo</span><span class="p">,</span><span> </span><span class="p">[</span><span class="p">]</span><span class="p">)</span><span>
</span><span class="k">end</span><span>
</span><span>
</span><span class="n">record</span><span class="p">(</span><span class="n">ts</span><span class="p">:</span><span class="p">:</span><span class="n">CustomTestSet</span><span class="p">,</span><span> </span><span class="n">child</span><span class="p">:</span><span class="p">:</span><span class="n">AbstractTestSet</span><span class="p">)</span><span> </span><span class="o">=</span><span> </span><span class="n">push!</span><span class="p">(</span><span class="n">ts</span><span class="o">.</span><span class="n">results</span><span class="p">,</span><span> </span><span class="n">child</span><span class="p">)</span><span>
</span><span class="n">record</span><span class="p">(</span><span class="n">ts</span><span class="p">:</span><span class="p">:</span><span class="n">CustomTestSet</span><span class="p">,</span><span> </span><span class="n">res</span><span class="p">:</span><span class="p">:</span><span class="n">Result</span><span class="p">)</span><span> </span><span class="o">=</span><span> </span><span class="n">push!</span><span class="p">(</span><span class="n">ts</span><span class="o">.</span><span class="n">results</span><span class="p">,</span><span> </span><span class="n">res</span><span class="p">)</span><span>
</span><span class="k">function</span><span class="nf"> </span><span class="nf">finish</span><span class="p">(</span><span class="n">ts</span><span class="p">:</span><span class="p">:</span><span class="n">CustomTestSet</span><span class="p">)</span><span>
</span><span>    </span><span class="c"># just record if we&#39;re not the top-level parent</span><span>
</span><span>    </span><span class="k">if</span><span> </span><span class="n">get_testset_depth</span><span class="p">(</span><span class="p">)</span><span> </span><span class="o">&gt;</span><span> </span><span class="mi">0</span><span>
</span><span>        </span><span class="n">record</span><span class="p">(</span><span class="n">get_testset</span><span class="p">(</span><span class="p">)</span><span class="p">,</span><span> </span><span class="n">ts</span><span class="p">)</span><span>
</span><span>    </span><span class="k">end</span><span>
</span><span>    </span><span class="n">ts</span><span>
</span><span class="k">end</span><span>
</span></code></pre><div class="mdnote debug">Base.Markdown.Paragraph</div><p>And using that testset looks like:</p><div class="mdnote debug">Base.Markdown.Code</div><pre><code class="highlight language-julia"><span class="p">@</span><span class="n">testset</span><span> </span><span class="n">CustomTestSet</span><span> </span><span class="n">foo</span><span class="o">=</span><span class="mi">4</span><span> </span><span class="s">&quot;</span><span class="s">custom testset inner 2</span><span class="s">&quot;</span><span> </span><span class="k">begin</span><span>
</span><span>    </span><span class="c"># this testset should inherit the type, but not the argument.</span><span>
</span><span>    </span><span class="p">@</span><span class="n">testset</span><span> </span><span class="s">&quot;</span><span class="s">custom testset inner</span><span class="s">&quot;</span><span> </span><span class="k">begin</span><span>
</span><span>        </span><span class="p">@</span><span class="n">test</span><span> </span><span class="n">true</span><span>
</span><span>    </span><span class="k">end</span><span>
</span><span class="k">end</span><span>
</span></code></pre><footer><hr/><a class="previous" href="strings.html"><span class="direction">Previous</span><span class="title">Strings</span></a><a class="next" href="../devdocs/ast.html"><span class="direction">Next</span><span class="title">Julia ASTs</span></a></footer></article></body></html>
